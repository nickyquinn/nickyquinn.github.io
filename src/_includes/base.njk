<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-US-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nick Quinn — {{ title }}</title>
    <link href="{{ '/assets/style/base.css' | url }}" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Manrope:wght@300;400;700&display=swap" rel="stylesheet">
    {# <link rel="shortcut icon" href="https://jlord.github.io/assets/favicon_smile.png" type="image/png"> #}
    {# <meta property="og:image" content="https://jlord.github.io/assets/hellohicard.jpg" type="image/jpg"/> #}
    <meta property="og:title" content="{{ page.title }}">
    <meta property="og:description" content="The home of Nick Quinn - full stack developer">
    <meta property="og:type"  content="website">
    <meta property="og:url"   content="{{ page.url }}">

    {# <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@jllord" />
    <meta name="twitter:creator" content="@jllord" /> #}

    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}

      if(localStorage.getItem("consentMode") === null) {
        gtag('consent', 'default', {
          'ad_storage': 'denied',
          'analytics_storage': 'denied'
        });
      } else {
        gtag("consent", "default", JSON.parse(localStorage.getItem("consentMode")));
      }
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M98D584C');</script>
    <!-- End Google Tag Manager -->
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M98D584C"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class="wrapper">
    <header>
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="site-title">
              {% if page.url != "/" %}<a href="/">Nick Quinn</a>{% endif %}
              {% if page.url === "/" %}Nick Quinn{% endif %}
            </div>
            <nav area-label="main">
              <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/posts">Posts</a></li>
                <li><a href="/stuff">Stuff</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>

      {# <p class="sans-meta-text"><a class="secret-link" href="/">JLORD — OPEN WEB DEVELOPER—DESIGNER</a></p>
      <h1>{% if page.url === "/" %}<img class="hero-img" src="assets/imgs/hello3.png" alt="hello!">{% else %}{{ title }}{% endif %}</h1> #}
    </header>

    <main class="page-body">
        <article>
            {{ content | safe }}
        </article>
    </main>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-12">
            © Nick Quinn 2021
            <a href="javascript:void(0);" onclick="showConsentBanner(); return false;">Manage cookies</a>
            <a href="/feed.xml">RSS</a>
          </div>
        </div>
      </div>
    </footer>

    <div id="cookie-consent-cover" class="cookie-consent-cover">
    </div>

    <div id="cookie-consent-banner" class="cookie-consent-banner">
      <div class="consent-content">
        <h3>Cookie settings</h3>
        <p>I'd like to set cookies so I can see who has visited the site and understand what content is interesting. The data I collect is anonymous. If that's okay with you press 'accept selection', or you can customise whcih cookies you agree to first.</p>
        {# <button id="btn-accept-all" class="cookie-consent-button btn-success">Accept All</button> #}
        {# <button id="btn-reject-all" class="cookie-consent-button btn-grayscale">Reject All</button> #}
        <div class="cookie-consent-options">
          <label><input id="consent-necessary" type="checkbox" value="Necessary" checked disabled>Necessary</label>
          <label><input id="consent-analytics" type="checkbox" value="Analytics" checked>Analytics</label>
          {# <label><input id="consent-preferences" type="checkbox" value="Preferences" checked>Preferences</label>
          <label><input id="consent-marketing" type="checkbox" value="Marketing">Marketing</label> #}
        </div>
        <button id="btn-accept-some" class="cookie-consent-button btn-outline">Accept Selection</button>
      </div>
    </div>
<script>
  
  function hideBanner() {
    document.getElementById('cookie-consent-banner').classList.remove('visible');
    document.getElementById('cookie-consent-cover').classList.remove('visible');
  }

  {# document.getElementById('btn-accept-all').addEventListener('click', function() {
      setConsent({
        necessary: true,
        analytics: true,
        //preferences: true,
        //marketing: true
      });
      hideBanner();
    }); #}
    document.getElementById('btn-accept-some').addEventListener('click', function() {
      setConsent({
        necessary: true,
        analytics: document.getElementById('consent-analytics').checked,
        preferences: false,
        marketing: false
        //preferences: document.getElementById('consent-preferences').checked,
        //marketing: document.getElementById('consent-marketing').checked
      });
      hideBanner();
    });
    {# document.getElementById('btn-reject-all').addEventListener('click', function() {
      setConsent({
        necessary: false,
        analytics: false,
        //preferences: false,
        //marketing: false
      });
      hideBanner();
    }); #}

  if(localStorage.getItem('consentMode') === null) {
    document.getElementById('cookie-consent-banner').classList.add('visible');
    document.getElementById('cookie-consent-cover').classList.add('visible');
  } else {
    hideBanner();
  }
  
  function setConsent(consent) {
    const consentMode = {
      'functionality_storage': consent.necessary ? 'granted' : 'denied',
      'security_storage': consent.necessary ? 'granted' : 'denied',
      'ad_storage': consent.marketing ? 'granted' : 'denied',
      'analytics_storage': consent.analytics ? 'granted' : 'denied',
      'personalization': consent.preferences ? 'granted' : 'denied',
    };
    gtag('consent', 'update', consent);  
    localStorage.setItem('consentMode', JSON.stringify(consentMode));
  }

  function showConsentBanner() {
    document.getElementById('cookie-consent-banner').classList.add('visible');
    document.getElementById('cookie-consent-cover').classList.add('visible');
  }
  
</script>

    </div>{# wrapper div #}
  </body>
</html>