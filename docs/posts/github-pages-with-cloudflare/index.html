<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-US-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nick Quinn â€” Enforcing HTTPS on GitHub pages with Cloudflare</title>
    <link href="/assets/style/base.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Manrope:wght@300;400;700&display=swap" rel="stylesheet">
    
    
    <meta property="og:title" content="">
    <meta property="og:description" content="The home of Nick Quinn - full stack developer">
    <meta property="og:type"  content="website">
    <meta property="og:url"   content="/posts/github-pages-with-cloudflare/">

    
  <body>
    <header>
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="site-title">
              <a href="/">Nick Quinn</a>
              
            </div>
            <nav area-label="main">
              <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/posts">Posts</a></li>
                <li><a href="/stuff">Stuff</a></li>
              </ul>
            </nav>
          </div>
        </div>
      </div>

      
    </header>

    <main>
        <article>
            
<div class="container">
    <div class="row">
        <div class="col-12">
            <h1>Enforcing HTTPS on GitHub pages with Cloudflare</h1>
<p>When setting up GitHub pages, you have the option to enforce HTTPS when you're using a custom domain,
which is great, however, when you're using Cloudflare as your DNS provider you might find the option to enable
HTTPS greyed out, and GitHub presents you with this error:</p>
<blockquote>
<p>Unavailable for your site because your domain is not properly configured to support HTTPS</p>
</blockquote>
<p>This is usually because Cloudflare proxy is enabled (orange cloud icon), and GitHub
sees that there's already a certificate in place, so it can't issue one itself.</p>
<p>The solution is to disable the proxy for the domain or subdomain in Cloudflare:</p>
<p><img src="/assets/images/posts/github-pages-with-cloudflare/cf-proxy-off.png" alt="Cloudflare proxy settings in the off state"></p>
<p>Once this is done, return to the GitHub pages settings, and remove and then re-add the custom domain. You should now be able to enable HTTPS:</p>
<p><img src="/assets/images/posts/github-pages-with-cloudflare/enforce-https.png" alt="GitHub pages HTTPS settings enabled"></p>
<p>Once this is done, you can re-enable the proxy in Cloudflare, and you're good to go.</p>

        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <span class="meta-text">Page last updated on Sun Aug 06 2023</span>
        </div>
    </div>
</div>
        </article>
    </main>

    <footer>
    </footer>
  </body>
</html>